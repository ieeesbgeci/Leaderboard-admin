<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>VaderBoard</title>
</head>

<body>

  <ul id="vaderboard"></ul>

  <script>
    const vaderboard = document.getElementById("vaderboard");


    const socket = new WebSocket("ws://localhost:8080/vaderboard");

    socket.onmessage = function (event) {
      const messages = JSON.parse(event.data);

      vaderboard.innerHTML = "";

      messages.forEach(function (entry) {
        const listItem = document.createElement("li");
        listItem.textContent = `${entry.name} - ${entry.score}`;
        vaderboard.appendChild(listItem);
      });
    };

    socket.onerror = function (error) {
      console.error("WebSocket error:", error);
    };
  </script>
</body>

</html>

